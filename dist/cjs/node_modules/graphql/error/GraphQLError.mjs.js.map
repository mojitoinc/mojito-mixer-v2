{"version":3,"file":"GraphQLError.mjs.js","sources":["../../../../../node_modules/graphql/error/GraphQLError.mjs"],"sourcesContent":["import { isObjectLike } from '../jsutils/isObjectLike.mjs';\nimport { getLocation } from '../language/location.mjs';\nimport {\n  printLocation,\n  printSourceLocation,\n} from '../language/printLocation.mjs';\n\nfunction toNormalizedOptions(args) {\n  const firstArg = args[0];\n\n  if (firstArg == null || 'kind' in firstArg || 'length' in firstArg) {\n    return {\n      nodes: firstArg,\n      source: args[1],\n      positions: args[2],\n      path: args[3],\n      originalError: args[4],\n      extensions: args[5],\n    };\n  }\n\n  return firstArg;\n}\n/**\n * A GraphQLError describes an Error found during the parse, validate, or\n * execute phases of performing a GraphQL operation. In addition to a message\n * and stack trace, it also includes information about the locations in a\n * GraphQL document and/or execution result that correspond to the Error.\n */\n\nexport class GraphQLError extends Error {\n  /**\n   * An array of `{ line, column }` locations within the source GraphQL document\n   * which correspond to this error.\n   *\n   * Errors during validation often contain multiple locations, for example to\n   * point out two things with the same name. Errors during execution include a\n   * single location, the field which produced the error.\n   *\n   * Enumerable, and appears in the result of JSON.stringify().\n   */\n\n  /**\n   * An array describing the JSON-path into the execution response which\n   * corresponds to this error. Only included for errors during execution.\n   *\n   * Enumerable, and appears in the result of JSON.stringify().\n   */\n\n  /**\n   * An array of GraphQL AST Nodes corresponding to this error.\n   */\n\n  /**\n   * The source GraphQL document for the first location of this error.\n   *\n   * Note that if this Error represents more than one node, the source may not\n   * represent nodes after the first node.\n   */\n\n  /**\n   * An array of character offsets within the source GraphQL document\n   * which correspond to this error.\n   */\n\n  /**\n   * The original error thrown from a field resolver during execution.\n   */\n\n  /**\n   * Extension fields to add to the formatted error.\n   */\n\n  /**\n   * @deprecated Please use the `GraphQLErrorOptions` constructor overload instead.\n   */\n  constructor(message, ...rawArgs) {\n    var _this$nodes, _nodeLocations$, _ref;\n\n    const { nodes, source, positions, path, originalError, extensions } =\n      toNormalizedOptions(rawArgs);\n    super(message);\n    this.name = 'GraphQLError';\n    this.path = path !== null && path !== void 0 ? path : undefined;\n    this.originalError =\n      originalError !== null && originalError !== void 0\n        ? originalError\n        : undefined; // Compute list of blame nodes.\n\n    this.nodes = undefinedIfEmpty(\n      Array.isArray(nodes) ? nodes : nodes ? [nodes] : undefined,\n    );\n    const nodeLocations = undefinedIfEmpty(\n      (_this$nodes = this.nodes) === null || _this$nodes === void 0\n        ? void 0\n        : _this$nodes.map((node) => node.loc).filter((loc) => loc != null),\n    ); // Compute locations in the source for the given nodes/positions.\n\n    this.source =\n      source !== null && source !== void 0\n        ? source\n        : nodeLocations === null || nodeLocations === void 0\n        ? void 0\n        : (_nodeLocations$ = nodeLocations[0]) === null ||\n          _nodeLocations$ === void 0\n        ? void 0\n        : _nodeLocations$.source;\n    this.positions =\n      positions !== null && positions !== void 0\n        ? positions\n        : nodeLocations === null || nodeLocations === void 0\n        ? void 0\n        : nodeLocations.map((loc) => loc.start);\n    this.locations =\n      positions && source\n        ? positions.map((pos) => getLocation(source, pos))\n        : nodeLocations === null || nodeLocations === void 0\n        ? void 0\n        : nodeLocations.map((loc) => getLocation(loc.source, loc.start));\n    const originalExtensions = isObjectLike(\n      originalError === null || originalError === void 0\n        ? void 0\n        : originalError.extensions,\n    )\n      ? originalError === null || originalError === void 0\n        ? void 0\n        : originalError.extensions\n      : undefined;\n    this.extensions =\n      (_ref =\n        extensions !== null && extensions !== void 0\n          ? extensions\n          : originalExtensions) !== null && _ref !== void 0\n        ? _ref\n        : Object.create(null); // Only properties prescribed by the spec should be enumerable.\n    // Keep the rest as non-enumerable.\n\n    Object.defineProperties(this, {\n      message: {\n        writable: true,\n        enumerable: true,\n      },\n      name: {\n        enumerable: false,\n      },\n      nodes: {\n        enumerable: false,\n      },\n      source: {\n        enumerable: false,\n      },\n      positions: {\n        enumerable: false,\n      },\n      originalError: {\n        enumerable: false,\n      },\n    }); // Include (non-enumerable) stack trace.\n\n    /* c8 ignore start */\n    // FIXME: https://github.com/graphql/graphql-js/issues/2317\n\n    if (\n      originalError !== null &&\n      originalError !== void 0 &&\n      originalError.stack\n    ) {\n      Object.defineProperty(this, 'stack', {\n        value: originalError.stack,\n        writable: true,\n        configurable: true,\n      });\n    } else if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, GraphQLError);\n    } else {\n      Object.defineProperty(this, 'stack', {\n        value: Error().stack,\n        writable: true,\n        configurable: true,\n      });\n    }\n    /* c8 ignore stop */\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLError';\n  }\n\n  toString() {\n    let output = this.message;\n\n    if (this.nodes) {\n      for (const node of this.nodes) {\n        if (node.loc) {\n          output += '\\n\\n' + printLocation(node.loc);\n        }\n      }\n    } else if (this.source && this.locations) {\n      for (const location of this.locations) {\n        output += '\\n\\n' + printSourceLocation(this.source, location);\n      }\n    }\n\n    return output;\n  }\n\n  toJSON() {\n    const formattedError = {\n      message: this.message,\n    };\n\n    if (this.locations != null) {\n      formattedError.locations = this.locations;\n    }\n\n    if (this.path != null) {\n      formattedError.path = this.path;\n    }\n\n    if (this.extensions != null && Object.keys(this.extensions).length > 0) {\n      formattedError.extensions = this.extensions;\n    }\n\n    return formattedError;\n  }\n}\n\nfunction undefinedIfEmpty(array) {\n  return array === undefined || array.length === 0 ? undefined : array;\n}\n/**\n * See: https://spec.graphql.org/draft/#sec-Errors\n */\n\n/**\n * Prints a GraphQLError to a string, representing useful location information\n * about the error's position in the source.\n *\n * @deprecated Please use `error.toString` instead. Will be removed in v17\n */\nexport function printError(error) {\n  return error.toString();\n}\n/**\n * Given a GraphQLError, format it according to the rules described by the\n * Response Format, Errors section of the GraphQL Specification.\n *\n * @deprecated Please use `error.toJSON` instead. Will be removed in v17\n */\n\nexport function formatError(error) {\n  return error.toJSON();\n}\n"],"names":["getLocation","isObjectLike","printLocation","printSourceLocation"],"mappings":"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"}