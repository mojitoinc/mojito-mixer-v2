'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

require('../../../utilities/globals/index.js');
require('../../../utilities/graphql/storeUtils.js');
require('../../../utilities/graphql/transform.js');
require('../../../utilities/common/mergeDeep.js');
require('../../../utilities/observables/Observable.js');
require('../../../utilities/observables/Concast.js');
var canUse = require('../../../utilities/common/canUse.js');

function promiseIterator(promise) {
    var resolved = false;
    var iterator = {
        next: function () {
            if (resolved)
                return Promise.resolve({
                    value: undefined,
                    done: true,
                });
            resolved = true;
            return new Promise(function (resolve, reject) {
                promise
                    .then(function (value) {
                    resolve({ value: value, done: false });
                })
                    .catch(reject);
            });
        },
    };
    if (canUse.canUseAsyncIteratorSymbol) {
        iterator[Symbol.asyncIterator] = function () {
            return this;
        };
    }
    return iterator;
}

exports["default"] = promiseIterator;
//# sourceMappingURL=promise.js.map
