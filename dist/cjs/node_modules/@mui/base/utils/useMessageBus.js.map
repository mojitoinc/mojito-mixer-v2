{"version":3,"file":"useMessageBus.js","sources":["../../../../../../node_modules/@mui/base/utils/useMessageBus.js"],"sourcesContent":["import * as React from 'react';\nexport function createMessageBus() {\n  const listeners = new Map();\n  function subscribe(topic, callback) {\n    let topicListeners = listeners.get(topic);\n    if (!topicListeners) {\n      topicListeners = new Set([callback]);\n      listeners.set(topic, topicListeners);\n    } else {\n      topicListeners.add(callback);\n    }\n    return () => {\n      topicListeners.delete(callback);\n      if (topicListeners.size === 0) {\n        listeners.delete(topic);\n      }\n    };\n  }\n  function publish(topic, ...args) {\n    const topicListeners = listeners.get(topic);\n    if (topicListeners) {\n      topicListeners.forEach(callback => callback(...args));\n    }\n  }\n  return {\n    subscribe,\n    publish\n  };\n}\n\n/**\n * @ignore - internal hook.\n */\nexport default function useMessageBus() {\n  const bus = React.useRef();\n  if (!bus.current) {\n    bus.current = createMessageBus();\n  }\n  return bus.current;\n}"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACO,SAAS,gBAAgB,GAAG;AACnC,EAAE,MAAM,SAAS,GAAG,IAAI,GAAG,EAAE,CAAC;AAC9B,EAAE,SAAS,SAAS,CAAC,KAAK,EAAE,QAAQ,EAAE;AACtC,IAAI,IAAI,cAAc,GAAG,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAC9C,IAAI,IAAI,CAAC,cAAc,EAAE;AACzB,MAAM,cAAc,GAAG,IAAI,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC3C,MAAM,SAAS,CAAC,GAAG,CAAC,KAAK,EAAE,cAAc,CAAC,CAAC;AAC3C,KAAK,MAAM;AACX,MAAM,cAAc,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACnC,KAAK;AACL,IAAI,OAAO,MAAM;AACjB,MAAM,cAAc,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AACtC,MAAM,IAAI,cAAc,CAAC,IAAI,KAAK,CAAC,EAAE;AACrC,QAAQ,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAChC,OAAO;AACP,KAAK,CAAC;AACN,GAAG;AACH,EAAE,SAAS,OAAO,CAAC,KAAK,EAAE,GAAG,IAAI,EAAE;AACnC,IAAI,MAAM,cAAc,GAAG,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAChD,IAAI,IAAI,cAAc,EAAE;AACxB,MAAM,cAAc,CAAC,OAAO,CAAC,QAAQ,IAAI,QAAQ,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AAC5D,KAAK;AACL,GAAG;AACH,EAAE,OAAO;AACT,IAAI,SAAS;AACb,IAAI,OAAO;AACX,GAAG,CAAC;AACJ,CAAC;AACD;AACA;AACA;AACA;AACe,SAAS,aAAa,GAAG;AACxC,EAAE,MAAM,GAAG,GAAGA,gBAAK,CAAC,MAAM,EAAE,CAAC;AAC7B,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;AACpB,IAAI,GAAG,CAAC,OAAO,GAAG,gBAAgB,EAAE,CAAC;AACrC,GAAG;AACH,EAAE,OAAO,GAAG,CAAC,OAAO,CAAC;AACrB;;;;;"}