{"version":3,"file":"useInput.js","sources":["../../../../../../node_modules/@mui/base/InputUnstyled/useInput.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { formatMuiErrorMessage as _formatMuiErrorMessage } from \"@mui/utils\";\nimport * as React from 'react';\nimport { unstable_useForkRef as useForkRef } from '@mui/utils';\nimport { useFormControlUnstyledContext } from '../FormControlUnstyled';\nimport extractEventHandlers from '../utils/extractEventHandlers';\n/**\n *\n * Demos:\n *\n * - [Unstyled Input](https://mui.com/base/react-input/#hook)\n *\n * API:\n *\n * - [useInput API](https://mui.com/base/api/use-input/)\n */\nexport default function useInput(parameters) {\n  const {\n    defaultValue: defaultValueProp,\n    disabled: disabledProp = false,\n    error: errorProp = false,\n    onBlur,\n    onChange,\n    onFocus,\n    required: requiredProp = false,\n    value: valueProp,\n    inputRef: inputRefProp\n  } = parameters;\n  const formControlContext = useFormControlUnstyledContext();\n  let defaultValue;\n  let disabled;\n  let error;\n  let required;\n  let value;\n  if (formControlContext) {\n    var _formControlContext$d, _formControlContext$e, _formControlContext$r;\n    defaultValue = undefined;\n    disabled = (_formControlContext$d = formControlContext.disabled) != null ? _formControlContext$d : false;\n    error = (_formControlContext$e = formControlContext.error) != null ? _formControlContext$e : false;\n    required = (_formControlContext$r = formControlContext.required) != null ? _formControlContext$r : false;\n    value = formControlContext.value;\n    if (process.env.NODE_ENV !== 'production') {\n      const definedLocalProps = ['defaultValue', 'disabled', 'error', 'required', 'value'].filter(prop => parameters[prop] !== undefined);\n      if (definedLocalProps.length > 0) {\n        console.warn(['MUI: You have set props on an input that is inside a FormControlUnstyled.', 'Set these props on a FormControlUnstyled instead. Otherwise they will be ignored.', `Ignored props: ${definedLocalProps.join(', ')}`].join('\\n'));\n      }\n    }\n  } else {\n    defaultValue = defaultValueProp;\n    disabled = disabledProp;\n    error = errorProp;\n    required = requiredProp;\n    value = valueProp;\n  }\n  const {\n    current: isControlled\n  } = React.useRef(value != null);\n  const handleInputRefWarning = React.useCallback(instance => {\n    if (process.env.NODE_ENV !== 'production') {\n      if (instance && instance.nodeName !== 'INPUT' && !instance.focus) {\n        console.error(['MUI: You have provided a `slots.input` to the input component', 'that does not correctly handle the `ref` prop.', 'Make sure the `ref` prop is called with a HTMLInputElement.'].join('\\n'));\n      }\n    }\n  }, []);\n  const inputRef = React.useRef(null);\n  const handleInputRef = useForkRef(inputRef, inputRefProp, handleInputRefWarning);\n  const [focused, setFocused] = React.useState(false);\n\n  // The blur won't fire when the disabled state is set on a focused input.\n  // We need to book keep the focused state manually.\n  React.useEffect(() => {\n    if (!formControlContext && disabled && focused) {\n      setFocused(false);\n\n      // @ts-ignore\n      onBlur == null ? void 0 : onBlur();\n    }\n  }, [formControlContext, disabled, focused, onBlur]);\n  const handleFocus = otherHandlers => event => {\n    var _otherHandlers$onFocu;\n    // Fix a bug with IE11 where the focus/blur events are triggered\n    // while the component is disabled.\n    if (formControlContext != null && formControlContext.disabled) {\n      event.stopPropagation();\n      return;\n    }\n    (_otherHandlers$onFocu = otherHandlers.onFocus) == null ? void 0 : _otherHandlers$onFocu.call(otherHandlers, event);\n    if (formControlContext && formControlContext.onFocus) {\n      var _formControlContext$o;\n      formControlContext == null ? void 0 : (_formControlContext$o = formControlContext.onFocus) == null ? void 0 : _formControlContext$o.call(formControlContext);\n    } else {\n      setFocused(true);\n    }\n  };\n  const handleBlur = otherHandlers => event => {\n    var _otherHandlers$onBlur;\n    (_otherHandlers$onBlur = otherHandlers.onBlur) == null ? void 0 : _otherHandlers$onBlur.call(otherHandlers, event);\n    if (formControlContext && formControlContext.onBlur) {\n      formControlContext.onBlur();\n    } else {\n      setFocused(false);\n    }\n  };\n  const handleChange = otherHandlers => (event, ...args) => {\n    var _formControlContext$o2, _otherHandlers$onChan;\n    if (!isControlled) {\n      const element = event.target || inputRef.current;\n      if (element == null) {\n        throw new Error(process.env.NODE_ENV !== \"production\" ? `MUI: Expected valid input target. Did you use a custom \\`slots.input\\` and forget to forward refs? See https://mui.com/r/input-component-ref-interface for more info.` : _formatMuiErrorMessage(17));\n      }\n    }\n    formControlContext == null ? void 0 : (_formControlContext$o2 = formControlContext.onChange) == null ? void 0 : _formControlContext$o2.call(formControlContext, event);\n\n    // @ts-ignore\n    (_otherHandlers$onChan = otherHandlers.onChange) == null ? void 0 : _otherHandlers$onChan.call(otherHandlers, event, ...args);\n  };\n  const handleClick = otherHandlers => event => {\n    var _otherHandlers$onClic;\n    if (inputRef.current && event.currentTarget === event.target) {\n      inputRef.current.focus();\n    }\n    (_otherHandlers$onClic = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic.call(otherHandlers, event);\n  };\n  const getRootProps = (externalProps = {}) => {\n    // onBlur, onChange and onFocus are forwarded to the input slot.\n    const propsEventHandlers = extractEventHandlers(parameters, ['onBlur', 'onChange', 'onFocus']);\n    const externalEventHandlers = _extends({}, propsEventHandlers, extractEventHandlers(externalProps));\n    return _extends({}, externalProps, externalEventHandlers, {\n      onClick: handleClick(externalEventHandlers)\n    });\n  };\n  const getInputProps = (externalProps = {}) => {\n    const propsEventHandlers = {\n      onBlur,\n      onChange,\n      onFocus\n    };\n    const externalEventHandlers = _extends({}, propsEventHandlers, extractEventHandlers(externalProps));\n    const mergedEventHandlers = _extends({}, externalProps, externalEventHandlers, {\n      onBlur: handleBlur(externalEventHandlers),\n      onChange: handleChange(externalEventHandlers),\n      onFocus: handleFocus(externalEventHandlers)\n    });\n    return _extends({}, mergedEventHandlers, {\n      'aria-invalid': error || undefined,\n      defaultValue: defaultValue,\n      ref: handleInputRef,\n      value: value,\n      required,\n      disabled\n    });\n  };\n  return {\n    disabled,\n    error,\n    focused,\n    formControlContext,\n    getInputProps,\n    getRootProps,\n    required,\n    value\n  };\n}"],"names":["useFormControlUnstyledContext","React","useForkRef","_formatMuiErrorMessage","extractEventHandlers","_extends"],"mappings":"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"}