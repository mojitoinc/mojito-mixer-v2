{"version":3,"file":"useButton.js","sources":["../../../../../../node_modules/@mui/base/ButtonUnstyled/useButton.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useForkRef as useForkRef, unstable_useIsFocusVisible as useIsFocusVisible } from '@mui/utils';\nimport extractEventHandlers from '../utils/extractEventHandlers';\n/**\n *\n * Demos:\n *\n * - [Unstyled Button](https://mui.com/base/react-button/#hook)\n *\n * API:\n *\n * - [useButton API](https://mui.com/base/api/use-button/)\n */\nexport default function useButton(parameters) {\n  const {\n    disabled = false,\n    focusableWhenDisabled,\n    href,\n    ref: externalRef,\n    tabIndex,\n    to,\n    type\n  } = parameters;\n  const buttonRef = React.useRef();\n  const [active, setActive] = React.useState(false);\n  const {\n    isFocusVisibleRef,\n    onFocus: handleFocusVisible,\n    onBlur: handleBlurVisible,\n    ref: focusVisibleRef\n  } = useIsFocusVisible();\n  const [focusVisible, setFocusVisible] = React.useState(false);\n  if (disabled && !focusableWhenDisabled && focusVisible) {\n    setFocusVisible(false);\n  }\n  React.useEffect(() => {\n    isFocusVisibleRef.current = focusVisible;\n  }, [focusVisible, isFocusVisibleRef]);\n  const [hostElementName, setHostElementName] = React.useState('');\n  const createHandleMouseLeave = otherHandlers => event => {\n    var _otherHandlers$onMous;\n    if (focusVisible) {\n      event.preventDefault();\n    }\n    (_otherHandlers$onMous = otherHandlers.onMouseLeave) == null ? void 0 : _otherHandlers$onMous.call(otherHandlers, event);\n  };\n  const createHandleBlur = otherHandlers => event => {\n    var _otherHandlers$onBlur;\n    handleBlurVisible(event);\n    if (isFocusVisibleRef.current === false) {\n      setFocusVisible(false);\n    }\n    (_otherHandlers$onBlur = otherHandlers.onBlur) == null ? void 0 : _otherHandlers$onBlur.call(otherHandlers, event);\n  };\n  const createHandleFocus = otherHandlers => event => {\n    var _otherHandlers$onFocu2;\n    // Fix for https://github.com/facebook/react/issues/7769\n    if (!buttonRef.current) {\n      buttonRef.current = event.currentTarget;\n    }\n    handleFocusVisible(event);\n    if (isFocusVisibleRef.current === true) {\n      var _otherHandlers$onFocu;\n      setFocusVisible(true);\n      (_otherHandlers$onFocu = otherHandlers.onFocusVisible) == null ? void 0 : _otherHandlers$onFocu.call(otherHandlers, event);\n    }\n    (_otherHandlers$onFocu2 = otherHandlers.onFocus) == null ? void 0 : _otherHandlers$onFocu2.call(otherHandlers, event);\n  };\n  const isNativeButton = () => {\n    const button = buttonRef.current;\n    return hostElementName === 'BUTTON' || hostElementName === 'INPUT' && ['button', 'submit', 'reset'].includes(button == null ? void 0 : button.type) || hostElementName === 'A' && (button == null ? void 0 : button.href);\n  };\n  const createHandleClick = otherHandlers => event => {\n    if (!disabled) {\n      var _otherHandlers$onClic;\n      (_otherHandlers$onClic = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic.call(otherHandlers, event);\n    }\n  };\n  const createHandleMouseDown = otherHandlers => event => {\n    var _otherHandlers$onMous2;\n    if (!disabled) {\n      setActive(true);\n      document.addEventListener('mouseup', () => {\n        setActive(false);\n      }, {\n        once: true\n      });\n    }\n    (_otherHandlers$onMous2 = otherHandlers.onMouseDown) == null ? void 0 : _otherHandlers$onMous2.call(otherHandlers, event);\n  };\n  const createHandleKeyDown = otherHandlers => event => {\n    var _otherHandlers$onKeyD;\n    (_otherHandlers$onKeyD = otherHandlers.onKeyDown) == null ? void 0 : _otherHandlers$onKeyD.call(otherHandlers, event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    if (event.target === event.currentTarget && !isNativeButton() && event.key === ' ') {\n      event.preventDefault();\n    }\n    if (event.target === event.currentTarget && event.key === ' ' && !disabled) {\n      setActive(true);\n    }\n\n    // Keyboard accessibility for non interactive elements\n    if (event.target === event.currentTarget && !isNativeButton() && event.key === 'Enter' && !disabled) {\n      var _otherHandlers$onClic2;\n      (_otherHandlers$onClic2 = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic2.call(otherHandlers, event);\n      event.preventDefault();\n    }\n  };\n  const createHandleKeyUp = otherHandlers => event => {\n    var _otherHandlers$onKeyU;\n    // calling preventDefault in keyUp on a <button> will not dispatch a click event if Space is pressed\n    // https://codesandbox.io/s/button-keyup-preventdefault-dn7f0\n\n    if (event.target === event.currentTarget) {\n      setActive(false);\n    }\n    (_otherHandlers$onKeyU = otherHandlers.onKeyUp) == null ? void 0 : _otherHandlers$onKeyU.call(otherHandlers, event);\n\n    // Keyboard accessibility for non interactive elements\n    if (event.target === event.currentTarget && !isNativeButton() && !disabled && event.key === ' ' && !event.defaultPrevented) {\n      var _otherHandlers$onClic3;\n      (_otherHandlers$onClic3 = otherHandlers.onClick) == null ? void 0 : _otherHandlers$onClic3.call(otherHandlers, event);\n    }\n  };\n  const updateHostElementName = React.useCallback(instance => {\n    var _instance$tagName;\n    setHostElementName((_instance$tagName = instance == null ? void 0 : instance.tagName) != null ? _instance$tagName : '');\n  }, []);\n  const handleRef = useForkRef(updateHostElementName, externalRef, focusVisibleRef, buttonRef);\n  const buttonProps = {};\n  if (hostElementName === 'BUTTON') {\n    buttonProps.type = type != null ? type : 'button';\n    if (focusableWhenDisabled) {\n      buttonProps['aria-disabled'] = disabled;\n    } else {\n      buttonProps.disabled = disabled;\n    }\n  } else if (hostElementName !== '') {\n    if (!href && !to) {\n      buttonProps.role = 'button';\n      buttonProps.tabIndex = tabIndex != null ? tabIndex : 0;\n    }\n    if (disabled) {\n      buttonProps['aria-disabled'] = disabled;\n      buttonProps.tabIndex = focusableWhenDisabled ? tabIndex != null ? tabIndex : 0 : -1;\n    }\n  }\n  const getRootProps = (otherHandlers = {}) => {\n    const propsEventHandlers = extractEventHandlers(parameters);\n    const externalEventHandlers = _extends({}, propsEventHandlers, otherHandlers);\n\n    // onFocusVisible can be present on the props, but since it's not a valid React event handler,\n    // it must not be forwarded to the inner component.\n    delete externalEventHandlers.onFocusVisible;\n    return _extends({\n      type\n    }, externalEventHandlers, buttonProps, {\n      onBlur: createHandleBlur(externalEventHandlers),\n      onClick: createHandleClick(externalEventHandlers),\n      onFocus: createHandleFocus(externalEventHandlers),\n      onKeyDown: createHandleKeyDown(externalEventHandlers),\n      onKeyUp: createHandleKeyUp(externalEventHandlers),\n      onMouseDown: createHandleMouseDown(externalEventHandlers),\n      onMouseLeave: createHandleMouseLeave(externalEventHandlers),\n      ref: handleRef\n    });\n  };\n  return {\n    getRootProps,\n    focusVisible,\n    setFocusVisible,\n    disabled,\n    active\n  };\n}"],"names":[],"mappings":";;;;;;;;;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS,SAAS,CAAC,UAAU,EAAE;AAC9C,EAAE,MAAM;AACR,IAAI,QAAQ,GAAG,KAAK;AACpB,IAAI,qBAAqB;AACzB,IAAI,IAAI;AACR,IAAI,GAAG,EAAE,WAAW;AACpB,IAAI,QAAQ;AACZ,IAAI,EAAE;AACN,IAAI,IAAI;AACR,GAAG,GAAG,UAAU,CAAC;AACjB,EAAE,MAAM,SAAS,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;AACnC,EAAE,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AACpD,EAAE,MAAM;AACR,IAAI,iBAAiB;AACrB,IAAI,OAAO,EAAE,kBAAkB;AAC/B,IAAI,MAAM,EAAE,iBAAiB;AAC7B,IAAI,GAAG,EAAE,eAAe;AACxB,GAAG,GAAG,iBAAiB,EAAE,CAAC;AAC1B,EAAE,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AAChE,EAAE,IAAI,QAAQ,IAAI,CAAC,qBAAqB,IAAI,YAAY,EAAE;AAC1D,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC;AAC3B,GAAG;AACH,EAAE,KAAK,CAAC,SAAS,CAAC,MAAM;AACxB,IAAI,iBAAiB,CAAC,OAAO,GAAG,YAAY,CAAC;AAC7C,GAAG,EAAE,CAAC,YAAY,EAAE,iBAAiB,CAAC,CAAC,CAAC;AACxC,EAAE,MAAM,CAAC,eAAe,EAAE,kBAAkB,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AACnE,EAAE,MAAM,sBAAsB,GAAG,aAAa,IAAI,KAAK,IAAI;AAC3D,IAAI,IAAI,qBAAqB,CAAC;AAC9B,IAAI,IAAI,YAAY,EAAE;AACtB,MAAM,KAAK,CAAC,cAAc,EAAE,CAAC;AAC7B,KAAK;AACL,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,YAAY,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,qBAAqB,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AAC7H,GAAG,CAAC;AACJ,EAAE,MAAM,gBAAgB,GAAG,aAAa,IAAI,KAAK,IAAI;AACrD,IAAI,IAAI,qBAAqB,CAAC;AAC9B,IAAI,iBAAiB,CAAC,KAAK,CAAC,CAAC;AAC7B,IAAI,IAAI,iBAAiB,CAAC,OAAO,KAAK,KAAK,EAAE;AAC7C,MAAM,eAAe,CAAC,KAAK,CAAC,CAAC;AAC7B,KAAK;AACL,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,MAAM,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,qBAAqB,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AACvH,GAAG,CAAC;AACJ,EAAE,MAAM,iBAAiB,GAAG,aAAa,IAAI,KAAK,IAAI;AACtD,IAAI,IAAI,sBAAsB,CAAC;AAC/B;AACA,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;AAC5B,MAAM,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC;AAC9C,KAAK;AACL,IAAI,kBAAkB,CAAC,KAAK,CAAC,CAAC;AAC9B,IAAI,IAAI,iBAAiB,CAAC,OAAO,KAAK,IAAI,EAAE;AAC5C,MAAM,IAAI,qBAAqB,CAAC;AAChC,MAAM,eAAe,CAAC,IAAI,CAAC,CAAC;AAC5B,MAAM,CAAC,qBAAqB,GAAG,aAAa,CAAC,cAAc,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,qBAAqB,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AACjI,KAAK;AACL,IAAI,CAAC,sBAAsB,GAAG,aAAa,CAAC,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,sBAAsB,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AAC1H,GAAG,CAAC;AACJ,EAAE,MAAM,cAAc,GAAG,MAAM;AAC/B,IAAI,MAAM,MAAM,GAAG,SAAS,CAAC,OAAO,CAAC;AACrC,IAAI,OAAO,eAAe,KAAK,QAAQ,IAAI,eAAe,KAAK,OAAO,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,eAAe,KAAK,GAAG,KAAK,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;AAC9N,GAAG,CAAC;AACJ,EAAE,MAAM,iBAAiB,GAAG,aAAa,IAAI,KAAK,IAAI;AACtD,IAAI,IAAI,CAAC,QAAQ,EAAE;AACnB,MAAM,IAAI,qBAAqB,CAAC;AAChC,MAAM,CAAC,qBAAqB,GAAG,aAAa,CAAC,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,qBAAqB,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AAC1H,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,MAAM,qBAAqB,GAAG,aAAa,IAAI,KAAK,IAAI;AAC1D,IAAI,IAAI,sBAAsB,CAAC;AAC/B,IAAI,IAAI,CAAC,QAAQ,EAAE;AACnB,MAAM,SAAS,CAAC,IAAI,CAAC,CAAC;AACtB,MAAM,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,MAAM;AACjD,QAAQ,SAAS,CAAC,KAAK,CAAC,CAAC;AACzB,OAAO,EAAE;AACT,QAAQ,IAAI,EAAE,IAAI;AAClB,OAAO,CAAC,CAAC;AACT,KAAK;AACL,IAAI,CAAC,sBAAsB,GAAG,aAAa,CAAC,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,sBAAsB,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AAC9H,GAAG,CAAC;AACJ,EAAE,MAAM,mBAAmB,GAAG,aAAa,IAAI,KAAK,IAAI;AACxD,IAAI,IAAI,qBAAqB,CAAC;AAC9B,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,SAAS,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,qBAAqB,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AAC1H,IAAI,IAAI,KAAK,CAAC,gBAAgB,EAAE;AAChC,MAAM,OAAO;AACb,KAAK;AACL,IAAI,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,aAAa,IAAI,CAAC,cAAc,EAAE,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,EAAE;AACxF,MAAM,KAAK,CAAC,cAAc,EAAE,CAAC;AAC7B,KAAK;AACL,IAAI,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE;AAChF,MAAM,SAAS,CAAC,IAAI,CAAC,CAAC;AACtB,KAAK;AACL;AACA;AACA,IAAI,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,aAAa,IAAI,CAAC,cAAc,EAAE,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,IAAI,CAAC,QAAQ,EAAE;AACzG,MAAM,IAAI,sBAAsB,CAAC;AACjC,MAAM,CAAC,sBAAsB,GAAG,aAAa,CAAC,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,sBAAsB,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AAC5H,MAAM,KAAK,CAAC,cAAc,EAAE,CAAC;AAC7B,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,MAAM,iBAAiB,GAAG,aAAa,IAAI,KAAK,IAAI;AACtD,IAAI,IAAI,qBAAqB,CAAC;AAC9B;AACA;AACA;AACA,IAAI,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,aAAa,EAAE;AAC9C,MAAM,SAAS,CAAC,KAAK,CAAC,CAAC;AACvB,KAAK;AACL,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,qBAAqB,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AACxH;AACA;AACA,IAAI,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,aAAa,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE;AAChI,MAAM,IAAI,sBAAsB,CAAC;AACjC,MAAM,CAAC,sBAAsB,GAAG,aAAa,CAAC,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,sBAAsB,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AAC5H,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,MAAM,qBAAqB,GAAG,KAAK,CAAC,WAAW,CAAC,QAAQ,IAAI;AAC9D,IAAI,IAAI,iBAAiB,CAAC;AAC1B,IAAI,kBAAkB,CAAC,CAAC,iBAAiB,GAAG,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,QAAQ,CAAC,OAAO,KAAK,IAAI,GAAG,iBAAiB,GAAG,EAAE,CAAC,CAAC;AAC5H,GAAG,EAAE,EAAE,CAAC,CAAC;AACT,EAAE,MAAM,SAAS,GAAG,UAAU,CAAC,qBAAqB,EAAE,WAAW,EAAE,eAAe,EAAE,SAAS,CAAC,CAAC;AAC/F,EAAE,MAAM,WAAW,GAAG,EAAE,CAAC;AACzB,EAAE,IAAI,eAAe,KAAK,QAAQ,EAAE;AACpC,IAAI,WAAW,CAAC,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,QAAQ,CAAC;AACtD,IAAI,IAAI,qBAAqB,EAAE;AAC/B,MAAM,WAAW,CAAC,eAAe,CAAC,GAAG,QAAQ,CAAC;AAC9C,KAAK,MAAM;AACX,MAAM,WAAW,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACtC,KAAK;AACL,GAAG,MAAM,IAAI,eAAe,KAAK,EAAE,EAAE;AACrC,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE,EAAE;AACtB,MAAM,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC;AAClC,MAAM,WAAW,CAAC,QAAQ,GAAG,QAAQ,IAAI,IAAI,GAAG,QAAQ,GAAG,CAAC,CAAC;AAC7D,KAAK;AACL,IAAI,IAAI,QAAQ,EAAE;AAClB,MAAM,WAAW,CAAC,eAAe,CAAC,GAAG,QAAQ,CAAC;AAC9C,MAAM,WAAW,CAAC,QAAQ,GAAG,qBAAqB,GAAG,QAAQ,IAAI,IAAI,GAAG,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AAC1F,KAAK;AACL,GAAG;AACH,EAAE,MAAM,YAAY,GAAG,CAAC,aAAa,GAAG,EAAE,KAAK;AAC/C,IAAI,MAAM,kBAAkB,GAAG,oBAAoB,CAAC,UAAU,CAAC,CAAC;AAChE,IAAI,MAAM,qBAAqB,GAAG,QAAQ,CAAC,EAAE,EAAE,kBAAkB,EAAE,aAAa,CAAC,CAAC;AAClF;AACA;AACA;AACA,IAAI,OAAO,qBAAqB,CAAC,cAAc,CAAC;AAChD,IAAI,OAAO,QAAQ,CAAC;AACpB,MAAM,IAAI;AACV,KAAK,EAAE,qBAAqB,EAAE,WAAW,EAAE;AAC3C,MAAM,MAAM,EAAE,gBAAgB,CAAC,qBAAqB,CAAC;AACrD,MAAM,OAAO,EAAE,iBAAiB,CAAC,qBAAqB,CAAC;AACvD,MAAM,OAAO,EAAE,iBAAiB,CAAC,qBAAqB,CAAC;AACvD,MAAM,SAAS,EAAE,mBAAmB,CAAC,qBAAqB,CAAC;AAC3D,MAAM,OAAO,EAAE,iBAAiB,CAAC,qBAAqB,CAAC;AACvD,MAAM,WAAW,EAAE,qBAAqB,CAAC,qBAAqB,CAAC;AAC/D,MAAM,YAAY,EAAE,sBAAsB,CAAC,qBAAqB,CAAC;AACjE,MAAM,GAAG,EAAE,SAAS;AACpB,KAAK,CAAC,CAAC;AACP,GAAG,CAAC;AACJ,EAAE,OAAO;AACT,IAAI,YAAY;AAChB,IAAI,YAAY;AAChB,IAAI,eAAe;AACnB,IAAI,QAAQ;AACZ,IAAI,MAAM;AACV,GAAG,CAAC;AACJ;;;;"}