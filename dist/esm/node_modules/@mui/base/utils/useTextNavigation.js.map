{"version":3,"file":"useTextNavigation.js","sources":["../../../../../../node_modules/@mui/base/utils/useTextNavigation.js"],"sourcesContent":["import * as React from 'react';\nconst TEXT_NAVIGATION_RESET_TIMEOUT = 500; // milliseconds\n\n/**\n * @ignore - internal hook.\n *\n * Provides a handler for text navigation.\n * It's used to navigate the listbox by typing the first letters of the options.\n *\n * @param callback A function to be called when the navigation should be performed.\n * @returns A function to be used in a keydown event handler.\n */\nexport default function useTextNavigation(callback) {\n  const textCriteriaRef = React.useRef({\n    searchString: '',\n    lastTime: null\n  });\n  return React.useCallback(event => {\n    if (event.key.length === 1 && event.key !== ' ') {\n      const textCriteria = textCriteriaRef.current;\n      const lowerKey = event.key.toLowerCase();\n      const currentTime = performance.now();\n      if (textCriteria.searchString.length > 0 && textCriteria.lastTime && currentTime - textCriteria.lastTime > TEXT_NAVIGATION_RESET_TIMEOUT) {\n        textCriteria.searchString = lowerKey;\n      } else if (textCriteria.searchString.length !== 1 || lowerKey !== textCriteria.searchString) {\n        // If there is just one character in the buffer and the key is the same, do not append\n        textCriteria.searchString += lowerKey;\n      }\n      textCriteria.lastTime = currentTime;\n      callback(textCriteria.searchString, event);\n    }\n  }, [callback]);\n}"],"names":[],"mappings":";;AACA,MAAM,6BAA6B,GAAG,GAAG,CAAC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS,iBAAiB,CAAC,QAAQ,EAAE;AACpD,EAAE,MAAM,eAAe,GAAG,KAAK,CAAC,MAAM,CAAC;AACvC,IAAI,YAAY,EAAE,EAAE;AACpB,IAAI,QAAQ,EAAE,IAAI;AAClB,GAAG,CAAC,CAAC;AACL,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,KAAK,IAAI;AACpC,IAAI,IAAI,KAAK,CAAC,GAAG,CAAC,MAAM,KAAK,CAAC,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,EAAE;AACrD,MAAM,MAAM,YAAY,GAAG,eAAe,CAAC,OAAO,CAAC;AACnD,MAAM,MAAM,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;AAC/C,MAAM,MAAM,WAAW,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC;AAC5C,MAAM,IAAI,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,IAAI,YAAY,CAAC,QAAQ,IAAI,WAAW,GAAG,YAAY,CAAC,QAAQ,GAAG,6BAA6B,EAAE;AAChJ,QAAQ,YAAY,CAAC,YAAY,GAAG,QAAQ,CAAC;AAC7C,OAAO,MAAM,IAAI,YAAY,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,IAAI,QAAQ,KAAK,YAAY,CAAC,YAAY,EAAE;AACnG;AACA,QAAQ,YAAY,CAAC,YAAY,IAAI,QAAQ,CAAC;AAC9C,OAAO;AACP,MAAM,YAAY,CAAC,QAAQ,GAAG,WAAW,CAAC;AAC1C,MAAM,QAAQ,CAAC,YAAY,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;AACjD,KAAK;AACL,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;AACjB;;;;"}