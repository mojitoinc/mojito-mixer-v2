{"version":3,"file":"useSwitch.js","sources":["../../../../../../node_modules/@mui/base/SwitchUnstyled/useSwitch.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useControlled as useControlled, unstable_useForkRef as useForkRef, unstable_useIsFocusVisible as useIsFocusVisible } from '@mui/utils';\n/**\n * The basic building block for creating custom switches.\n *\n * Demos:\n *\n * - [Unstyled Switch](https://mui.com/base/react-switch/#hook)\n *\n * API:\n *\n * - [useSwitch API](https://mui.com/base/api/use-switch/)\n */\nexport default function useSwitch(props) {\n  const {\n    checked: checkedProp,\n    defaultChecked,\n    disabled,\n    onBlur,\n    onChange,\n    onFocus,\n    onFocusVisible,\n    readOnly,\n    required\n  } = props;\n  const [checked, setCheckedState] = useControlled({\n    controlled: checkedProp,\n    default: Boolean(defaultChecked),\n    name: 'Switch',\n    state: 'checked'\n  });\n  const createHandleInputChange = otherProps => event => {\n    var _otherProps$onChange;\n    // Workaround for https://github.com/facebook/react/issues/9023\n    if (event.nativeEvent.defaultPrevented) {\n      return;\n    }\n    setCheckedState(event.target.checked);\n    onChange == null ? void 0 : onChange(event);\n    (_otherProps$onChange = otherProps.onChange) == null ? void 0 : _otherProps$onChange.call(otherProps, event);\n  };\n  const {\n    isFocusVisibleRef,\n    onBlur: handleBlurVisible,\n    onFocus: handleFocusVisible,\n    ref: focusVisibleRef\n  } = useIsFocusVisible();\n  const [focusVisible, setFocusVisible] = React.useState(false);\n  if (disabled && focusVisible) {\n    setFocusVisible(false);\n  }\n  React.useEffect(() => {\n    isFocusVisibleRef.current = focusVisible;\n  }, [focusVisible, isFocusVisibleRef]);\n  const inputRef = React.useRef(null);\n  const createHandleFocus = otherProps => event => {\n    var _otherProps$onFocus;\n    // Fix for https://github.com/facebook/react/issues/7769\n    if (!inputRef.current) {\n      inputRef.current = event.currentTarget;\n    }\n    handleFocusVisible(event);\n    if (isFocusVisibleRef.current === true) {\n      setFocusVisible(true);\n      onFocusVisible == null ? void 0 : onFocusVisible(event);\n    }\n    onFocus == null ? void 0 : onFocus(event);\n    (_otherProps$onFocus = otherProps.onFocus) == null ? void 0 : _otherProps$onFocus.call(otherProps, event);\n  };\n  const createHandleBlur = otherProps => event => {\n    var _otherProps$onBlur;\n    handleBlurVisible(event);\n    if (isFocusVisibleRef.current === false) {\n      setFocusVisible(false);\n    }\n    onBlur == null ? void 0 : onBlur(event);\n    (_otherProps$onBlur = otherProps.onBlur) == null ? void 0 : _otherProps$onBlur.call(otherProps, event);\n  };\n  const handleRefChange = useForkRef(focusVisibleRef, inputRef);\n  const getInputProps = (otherProps = {}) => _extends({\n    checked: checkedProp,\n    defaultChecked,\n    disabled,\n    readOnly,\n    ref: handleRefChange,\n    required,\n    type: 'checkbox'\n  }, otherProps, {\n    onChange: createHandleInputChange(otherProps),\n    onFocus: createHandleFocus(otherProps),\n    onBlur: createHandleBlur(otherProps)\n  });\n  return {\n    checked,\n    disabled: Boolean(disabled),\n    focusVisible,\n    getInputProps,\n    readOnly: Boolean(readOnly)\n  };\n}"],"names":[],"mappings":"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"}