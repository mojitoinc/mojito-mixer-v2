import '../../../utilities/globals/index.js';
import '../../../utilities/graphql/storeUtils.js';
import '../../../utilities/graphql/transform.js';
import '../../../utilities/common/mergeDeep.js';
import '../../../utilities/observables/Observable.js';
import '../../../utilities/observables/Concast.js';
import { canUseAsyncIteratorSymbol } from '../../../utilities/common/canUse.js';

function promiseIterator(promise) {
    var resolved = false;
    var iterator = {
        next: function () {
            if (resolved)
                return Promise.resolve({
                    value: undefined,
                    done: true,
                });
            resolved = true;
            return new Promise(function (resolve, reject) {
                promise
                    .then(function (value) {
                    resolve({ value: value, done: false });
                })
                    .catch(reject);
            });
        },
    };
    if (canUseAsyncIteratorSymbol) {
        iterator[Symbol.asyncIterator] = function () {
            return this;
        };
    }
    return iterator;
}

export { promiseIterator as default };
//# sourceMappingURL=promise.js.map
